
    \begin{center}
        \begin{tikzpicture}[>=latex,line join=bevel,]

            \matrix (A) [matrix of nodes, nodes={draw, minimum size=18mm}, column sep=-\pgflinewidth]{
            $P(S,W):\frac{n}{r}$ & $P(W):\frac{r}{N}$ & $P(S):\frac{c}{N}$\\};
            \begin{scope}[node distance=3mm and 11mm]
                \draw [{Stealth}- ] (A-1-1.north)--++(90:5mm) node (PSW) [above] {$P(S,W)$};
                \path [{Stealth}- ] (A-1-1.north east)--++(90:6mm) node (PA) [above] {$\ast$};
                \draw [{Stealth}- ] (A-1-2.north)--++(90:5mm) node (PW) [above] {$P(W)$};
                \path [{Stealth}- ] (A-1-2.north east)--++(90:5mm) node (DV) [above] {$/$};
                \draw [{Stealth}- ] (A-1-3.north)--++(90:5mm) node (PS) [above] {$P(S)$};
                \draw [-{Stealth} ] (A-1-1.south)--++(-90:5mm) node (PSS) [below] {$\frac{n}{r}$};
                \path [-{Stealth} ] (A-1-1.south east)--++(-90:6mm) node (PAST1) [below] {$\ast$};
                \draw [-{Stealth} ] (A-1-2.south)--++(-90:5mm) node (PWST) [below] {$\frac{r}{N}$};
                \path [-{Stealth} ] (A-1-2.south east)--++(-90:6mm) node (PAST2) [below] {$\ast$};
                \draw [-{Stealth} ] (A-1-3.south)--++(-90:5mm) node (PWSTT) [below] {$\frac{c}{N}$};
            \end{scope}
            \begin{scope}[node distance=25mm and 1mm]
                \node[above left= of PSW] (frac) {$\char`\\ frac\{$};
                \node[above= of PSW] (LPSW) {$P(S|W)$};
                \node[above = of PW] (PWF) {$P(W)$};
                \node[above right= of PW] (SB) {$\}/\{$};
                \node[above = of PS] (PSL) {$P(S)$};
                \node[above right = of PS] (CB) {$\}$};
            \end{scope}
            \begin{scope}[node distance=26mm and 1mm]
                \node[above right= of PSW] (asterix1) {$*$};

            \end{scope}
            \draw [-{Stealth} ] (LPSW) -- (PSW);
            \draw [-{Stealth} ] (PWF) -- (PW);
            \draw [-{Stealth} ] (PSL) -- (PS);
            \node[left= of A] (HM) {Hashmap};
            \node[left= of frac] (IE) {Inserted equation};
            \node[left= of PSW] (PE) {Parsed equation};
            \node[above= of PE] (T) {Transformation};
            \node[below= of HM] (SI) {Sympy input};
            \node[below= of SI] (pe) {Parse expression};

            \begin{scope}[node distance=25mm and 11mm]
                \node[below= of PWST] (ghostnode) {};
            \end{scope}
            \draw [-{Stealth} ] (PWST) -- (ghostnode);
            \draw [-{Stealth} ] (PWSTT) -- (ghostnode);
            \draw [-{Stealth} ] (PSS) -- (ghostnode);
        \end{tikzpicture}
        \end{center}
        \hspace{200pt}
        \resizebox{!}{78mm}{
        \begin{tikzpicture}[>=latex,line join=bevel,]
        %%
          \node (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) at (98.0bp,231.0bp) [draw=black,ellipse] {Mul};
          \node (Symbol{n}_{0+}) at (9.0bp,175.5bp) [draw=black,ellipse] {n};
          \node (Pow{Symbol{r}+ NegativeOne{}}_{1+}) at (54.0bp,175.5bp) [draw=black,ellipse] {Pow};
          \node (Symbol{r}_{2+}) at (98.0bp,175.5bp) [draw=black,ellipse] {r};
          \node (Pow{Symbol{N}+ NegativeOne{}}_{3+}) at (142.0bp,175.5bp) [draw=black,ellipse] {Pow};
          \node (Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}_{4+}) at (196.0bp,175.5bp) [draw=black,ellipse] {Pow};
          \node (Symbol{r}_{1+ 0}) at (20.0bp,120.0bp) [draw=black,ellipse] {r};
          \node (NegativeOne{}_{1+ 1}) at (57.0bp,120.0bp) [draw=black,ellipse] {-1};
          \node (Symbol{N}_{3+ 0}) at (105.0bp,120.0bp) [draw=black,ellipse] {N};
          \node (NegativeOne{}_{3+ 1}) at (144.0bp,120.0bp) [draw=black,ellipse] {-1};
          \node (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}_{4+ 0}) at (194.0bp,120.0bp) [draw=black,ellipse] {Mul};
          \node (NegativeOne{}_{4+ 1}) at (240.0bp,120.0bp) [draw=black,ellipse] {-1};
          \node (Symbol{c}_{4+ 0+ 0}) at (172.0bp,64.5bp) [draw=black,ellipse] {c};
          \node (Pow{Symbol{N}+ NegativeOne{}}_{4+ 0+ 1}) at (216.0bp,64.5bp) [draw=black,ellipse] {Pow};
          \node (Symbol{N}_{4+ 0+ 1+ 0}) at (196.0bp,9.5bp) [draw=black,ellipse] {N};
          \node (NegativeOne{}_{4+ 0+ 1+ 1}) at (235.0bp,9.5bp) [draw=black,ellipse] {-1};
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) ..controls (70.304bp,213.73bp) and (42.754bp,196.55bp)  .. (Symbol{n}_{0+});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) ..controls (84.455bp,213.92bp) and (75.212bp,202.26bp)  .. (Pow{Symbol{r}+ NegativeOne{}}_{1+});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) ..controls (98.0bp,213.34bp) and (98.0bp,202.96bp)  .. (Symbol{r}_{2+});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) ..controls (111.54bp,213.92bp) and (120.79bp,202.26bp)  .. (Pow{Symbol{N}+ NegativeOne{}}_{3+});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{n}+ Pow{Symbol{r}+ NegativeOne{}}+ Symbol{r}+ Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}}_{}) ..controls (126.61bp,214.8bp) and (155.21bp,198.6bp)  .. (Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}_{4+});
          \draw [->] (Pow{Symbol{r}+ NegativeOne{}}_{1+}) ..controls (43.293bp,158.02bp) and (35.678bp,145.59bp)  .. (Symbol{r}_{1+ 0});
          \draw [->] (Pow{Symbol{r}+ NegativeOne{}}_{1+}) ..controls (54.91bp,158.67bp) and (55.451bp,148.66bp)  .. (NegativeOne{}_{1+ 1});
          \draw [->] (Pow{Symbol{N}+ NegativeOne{}}_{3+}) ..controls (130.54bp,158.31bp) and (122.63bp,146.44bp)  .. (Symbol{N}_{3+ 0});
          \draw [->] (Pow{Symbol{N}+ NegativeOne{}}_{3+}) ..controls (142.61bp,158.67bp) and (142.97bp,148.66bp)  .. (NegativeOne{}_{3+ 1});
          \draw [->] (Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}_{4+}) ..controls (195.4bp,158.84bp) and (195.05bp,149.15bp)  .. (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}_{4+ 0});
          \draw [->] (Pow{Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}+ NegativeOne{}}_{4+}) ..controls (209.61bp,158.34bp) and (219.48bp,145.89bp)  .. (NegativeOne{}_{4+ 1});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}_{4+ 0}) ..controls (186.94bp,102.19bp) and (182.5bp,90.982bp)  .. (Symbol{c}_{4+ 0+ 0});
          \draw [->] (Mul{Pow{Symbol{N}+ NegativeOne{}}+ Symbol{c}}_{4+ 0}) ..controls (200.88bp,102.65bp) and (205.0bp,92.26bp)  .. (Pow{Symbol{N}+ NegativeOne{}}_{4+ 0+ 1});
          \draw [->] (Pow{Symbol{N}+ NegativeOne{}}_{4+ 0+ 1}) ..controls (209.85bp,47.576bp) and (206.08bp,37.211bp)  .. (Symbol{N}_{4+ 0+ 1+ 0});
          \draw [->] (Pow{Symbol{N}+ NegativeOne{}}_{4+ 0+ 1}) ..controls (221.85bp,47.576bp) and (225.43bp,37.211bp)  .. (NegativeOne{}_{4+ 0+ 1+ 1});
        %
        \end{tikzpicture}
        }